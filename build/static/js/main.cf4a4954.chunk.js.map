{"version":3,"sources":["images/shipping-fast-solid.svg","images/dhl-brands.svg","components/Parcel.js","App.js","index.js"],"names":["Parcel","data","eraseHandler","convertTime","events","timestamp","className","id","onClick","src","dhlLogo","alt","origin","address","countryCode","addressLocality","destination","status","description","App","useState","beforeData","setBeforeData","afterData","setAfterData","useEffect","localStorage","getItem","JSON","parse","forEach","item","fetchTrackingInfo","shipNr","setItem","stringify","number","options","method","url","params","trackingNumber","headers","process","axios","request","then","response","parcelData","shipments","oldBefore","carrier","oldAfter","catch","error","showError","message","errorDisplay","document","createElement","innerText","querySelector","appendChild","e","filter","target","parentElement","logo","onSubmit","preventDefault","remove","some","elem","shipInput","value","type","name","placeholder","map","index","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.cf4a4954.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/shipping-fast-solid.dc7b0b73.svg\";","export default __webpack_public_path__ + \"static/media/dhl-brands.98507257.svg\";","import React from 'react';\n\nimport dhlLogo from '../images/dhl-brands.svg';\n\nconst Parcel = ({ data, eraseHandler }) => {\n\tlet convertTime = data.events[0]?.timestamp;\n\n\treturn (\n\t\t<div className='card' id={data.id}>\n\t\t\t<span className='hide' onClick={eraseHandler}>X</span>\n\t\t\t<div className='card-row'>\n\t\t\t\t<h3>DHL Shipment</h3>\n\t\t\t\t<img src={dhlLogo} className='provider-logo' alt='Provider Logo' />\n\t\t\t</div>\n\t\t\t<div className='card-row'>\n\t\t\t\t<span>Tracking number: </span>\n\t\t\t\t<span>{data.id}</span>\n\t\t\t</div>\n\t\t\t<div className='card-row'>\n\t\t\t\t<span>From</span>\n\t\t\t\t<span>\n\t\t\t\t\t{data.origin.address.countryCode ??\n\t\t\t\t\t\tdata.origin.address.addressLocality}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<div className='card-row'>\n\t\t\t\t<span>To</span>\n\t\t\t\t<span>\n\t\t\t\t\t{data.destination.address.countryCode ??\n\t\t\t\t\t\tdata.destination.address.addressLocality}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<div className='card-row'>\n\t\t\t\t<span>Current location: </span>\n\t\t\t\t<span>{data.status.description}</span>\n\t\t\t</div>\n\t\t\t<div className='card-row'>\n\t\t\t\t<span>Last updated: </span>\n\t\t\t\t<span>{convertTime}</span>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Parcel;\n","import \"./index.css\";\nimport logo from \"./images/shipping-fast-solid.svg\";\nimport { useEffect, useState } from \"react\";\nimport Parcel from \"./components/Parcel\";\nimport axios from \"axios\";\n\nfunction App() {\n  const [beforeData, setBeforeData] = useState([]);\n  const [afterData, setAfterData] = useState([]);\n\n  useEffect(() => {\n    if (localStorage.getItem(\"localList\")) {\n      JSON.parse(localStorage.getItem(\"localList\")).forEach((item) =>\n        fetchTrackingInfo(item.shipNr)\n      );\n    }\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem(\"localList\", JSON.stringify(beforeData));\n  }, [beforeData]);\n\n  const fetchTrackingInfo = (number) => {\n    const options = {\n      method: \"GET\",\n      url: \"https://api-eu.dhl.com/track/shipments\",\n      params: { trackingNumber: `${number}` },\n      headers: { \"DHL-API-Key\": `${process.env.REACT_APP_DHL_API_KEY}` },\n    };\n\n    axios\n      .request(options)\n      .then(function (response) {\n        const parcelData = response.data.shipments;\n        setBeforeData((oldBefore) => [\n          ...oldBefore,\n          { shipNr: parcelData[0].id, carrier: \"DHL\" },\n        ]);\n        setAfterData((oldAfter) => [...oldAfter, parcelData[0]]);\n      })\n      .catch(function (error) {\n        switch (error.response.status) {\n          case 400:\n            showError(\"Parcel not found.\");\n            break;\n          case 429:\n            showError(\"No more API requests possible.\");\n            break;\n          default:\n            showError(\"Unknown error\");\n            break;\n        }\n      });\n  };\n\n  // // error logic\n\n  const showError = (message) => {\n    let errorDisplay = document.createElement(\"p\");\n    errorDisplay.innerText = message;\n    errorDisplay.className = \"errorMsg\";\n\n    // document\n    //   .querySelector(\".card-container\")\n    //   .parentNode.insertBefore(\n    //     errorDisplay,\n    //     document.querySelector(\".card-container\").nextSibling\n    //   );\n\n    document.querySelector(\".error-display\").appendChild(errorDisplay);\n  };\n\n  //submit logic\n  const submitHandler = (e) => {\n    e.preventDefault();\n\n    document.querySelector(\".errorMsg\")?.remove();\n\n    if (beforeData.some((elem) => elem.shipNr === e.target.shipInput.value)) {\n      showError(\"Parcel already in list.\");\n\n      return;\n    }\n\n    fetchTrackingInfo(e.target.shipInput.value);\n  };\n\n  //erase logic\n  const eraseHandler = (e) => {\n    setBeforeData(\n      beforeData.filter((item) => item.shipNr !== e.target.parentElement.id)\n    );\n    setAfterData(\n      afterData.filter((item) => item.id !== e.target.parentElement.id)\n    );\n  };\n\n  return (\n    <div className=\"App\">\n      <h1 className=\"header\">\n        <span className=\"strong\">Parcel</span>finder\n        <img src={logo} className=\"logo\" alt=\"Parcelfinder Logo\"></img>\n      </h1>\n      <form className=\"form\" id=\"form\" onSubmit={submitHandler}>\n        <input\n          type=\"text\"\n          name=\"shipInput\"\n          id=\"shipInput\"\n          className=\"input\"\n          placeholder=\"Enter shipment number here\"\n        />\n        <button type=\"submit\" className=\"submit\">\n          Search\n        </button>\n      </form>\n      <div className=\"error-display\"></div>\n      <div className=\"card-container\">\n        {afterData.map((item, index) => {\n          return <Parcel key={index} eraseHandler={eraseHandler} data={item} />;\n        })}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}